import"../chunks/DsnmJJEf.js";import"../chunks/BfNarLqD.js";import{o as I}from"../chunks/1l48TZh8.js";import{j as F,a1 as V,az as W,t as K,S as P,aA as Q,aB as U,D as A,a4 as X,af as Y,ac as L,ag as N,g as r,ad as G,ah as Z,ai as u,aj as c,s as y,m as w,aC as ee,ak as p}from"../chunks/3jU2rFl6.js";import{e as ae,s as re}from"../chunks/DCER0Ng2.js";import{e as te,i as se}from"../chunks/D-3yAp-M.js";import{r as O,s as ne}from"../chunks/LWYZPgyM.js";import{b as R}from"../chunks/2re0taZq.js";import{p as ie,u as J}from"../chunks/B6m5RdVS.js";import{i as le}from"../chunks/vKy4knTK.js";import{s as oe,a as ue,b as ve}from"../chunks/BhLLPjL0.js";import{b as fe}from"../chunks/mvKxyS-v.js";function me(e,a){return e==null?null:String(e)}function de(e,a,o,s){var l=e.__style;if(F||l!==a){var t=me(a);(!F||t!==e.getAttribute("style"))&&(t==null?e.removeAttribute("style"):e.style.cssText=t),e.__style=a}return s}function M(e,a,o=!1){if(e.multiple){if(a==null)return;if(!P(a))return Q();for(var s of e.options)s.selected=a.includes(b(s));return}for(s of e.options){var l=b(s);if(U(l,a)){s.selected=!0;return}}(!o||a!==void 0)&&(e.selectedIndex=-1)}function pe(e){var a=new MutationObserver(()=>{M(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),K(()=>{a.disconnect()})}function _e(e,a,o=a){var s=new WeakSet,l=!0;V(e,"change",t=>{var m=t?"[selected]":":checked",n;if(e.multiple)n=[].map.call(e.querySelectorAll(m),b);else{var v=e.querySelector(m)??e.querySelector("option:not([disabled])");n=v&&b(v)}o(n),A!==null&&s.add(A)}),W(()=>{var t=a();if(e===document.activeElement){var m=X??A;if(s.has(m))return}if(M(e,t,l),l&&t===void 0){var n=e.querySelector(":checked");n!==null&&(t=b(n),o(t))}e.__value=t,l=!1}),pe(e)}function b(e){return"__value"in e?e.__value:e.value}var ce=L("<option> </option>"),be=L('<main class="svelte-52fghe"><div class="container svelte-52fghe"><h1>Registrering</h1> <form class="formulär svelte-52fghe"><div></div> <label for="name">Namn:</label> <input type="text" id="name"/> <label for="email">Email:</label> <input type="email" id="email"/> <label for="password">Lösenord:</label> <input type="password" id="password"/> <label for="color">Favoritfärg:</label> <select id="color"></select> <input type="submit" value="Registrera"/> <p>Har du redan ett konto? Testa <a>logga in.</a></p></form></div></main>');function Re(e,a){Y(a,!1);const o=()=>ue(J,"$users_store",s),[s,l]=oe();let t=[];I(()=>{o().length>2&&(t=JSON.parse(o()))});function m(){if(t.find(f=>f.username==r(n)))alert("Användarnamn används redan");else{alert("Välkommen "+r(n)+" "+r(v)+" "+r(g)+" "+r(d));let f={username:r(n),password:r(g),email:r(v),color:r(d)};t=[...t,f],ve(J,JSON.stringify(t))}}let n=w(""),v=w(""),g=w(""),d=w("black"),T=[{namn:"Blå",value:"blue"},{namn:"Röd",value:"red"},{namn:"Grön",value:"green"},{namn:"Gul",value:"yellow"}];le();var S=be(),j=c(S),k=u(c(j),2),B=c(k),$=u(B,4);O($);var x=u($,4);O(x);var q=u(x,4);O(q);var h=u(q,4);N(()=>{r(d),ee(()=>{})}),te(h,5,()=>T,se,(i,f)=>{var _=ce(),H=c(_,!0);p(_);var E={};N(()=>{re(H,r(f).namn),E!==(E=r(f).value)&&(_.value=(_.__value=r(f).value)??"")}),G(i,_)}),p(h);var z=u(h,2),D=u(z,2),C=u(c(D));p(D),p(k),p(j),p(S),N(()=>{de(B,`width: 100px; height: 100px; border-radius: 50%; overflow:hidden; background-color:${r(d)??""};`),ne(C,"href",`${fe??""}/login`)}),R($,()=>r(n),i=>y(n,i)),R(x,()=>r(v),i=>y(v,i)),R(q,()=>r(g),i=>y(g,i)),_e(h,()=>r(d),i=>y(d,i)),ae("submit",k,ie(m)),G(e,S),Z(),l()}export{Re as component};
